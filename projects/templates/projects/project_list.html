{% extends "blog/base.html" %}
{% load static %}

{% block title %}Projects{% endblock %}

{% block content %}
<h1 class="h3 mb-4">Projects</h1>

{% for project in projects %}
<a href="{% url 'project_detail' project.id %}" class="text-decoration-none">
    <div class="card mb-3" style="height: 120px;">
        <div class="row g-0 h-100">
            <div class="col-md-3 h-100"> {# Image column width reduced for smaller overall height #}
                {% if project.image %}
                    <img src="{{ project.image.url }}" class="img-fluid rounded-start h-100" alt="{{ project.title }}" style="object-fit: cover;">
                {% else %}
                    <div class="bg-secondary w-100 h-100 rounded-start d-flex align-items-center justify-content-center">
                        <span class="text-white small">No Image</span>
                    </div>
                {% endif %}
            </div>
            <div class="col-md-9 h-100"> {# Content column width increased #}
                <div class="card-body d-flex flex-column h-100 py-2">
                    <h5 class="card-title text-info mb-1" style="font-size: 1rem;">{{ project.title }}</h5> {# Smaller title font #}
                    <p class="card-text text-body-secondary small flex-grow-1" style="font-size: 0.8rem;">{{ project.description|truncatewords:10 }}</p> {# Shorter truncation #}
                    <div class="mt-auto">
                        {% for tech in project.technologies.split|slice:":2" %} {# Fewer badges #}
                            <span class="badge" style="background-color: var(--laser-color-1); color: #000; font-size: 0.6em;">{{ tech }}</span>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</a>
{% empty %}
<div class="alert alert-info">No projects yet.</div>
{% endfor %}

{% endblock %}
